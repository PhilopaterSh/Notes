- CH01_VID01_Web Basics: HTTP & Sessions
	- HTTP Protocol Essentials
		-  Basic information about the protocol,
		- HTTP (Hyper Text Transfer Protocol) is the main protocol responsible for transferrin web pages,
		O ==Stateless:== Each request is independent, with no memory of previous requests, This is mitigated by cookies, sessions, and tokens. Each request is independent, with no memory of previous,
		O ==Request-Response Model:== The client sends a request to the server, and the server responds with the requested data,
		O ==Text-based:== HTTP messages are human-readable, making them easy to debug.
		![[Screenshot 2025-06-20 143003 1.png]]
		- Cookies Management & Session Handling
			O Since HTTP is a stateless protocol, we needed a way to keep tracking users and provide authentication,
			O This can be done through one of these ways :
			- (Cookies, Session, JWT)
				Session
				O A session is a temporary connection between the user and the application / server created during login or when starting interaction with the application. It's used to track user activities and states during system interaction.
				O Sessions Management Characteristics:
				Unique Identifier:
					- Each session has a unique session ID to prevent session overlap.
				Security:
					-Protecting session ID from leakage or theft using:
					-Cookie encryption.
					-Enabling features like HttpOnly and Secure.
				Timeout:
					-Automatically ending the session after a period of inactivity (Idle Timeout).
				User Binding:
					-Ensuring the session is only linked to its owner's account.
				Re-authentication:
					-Requiring password re-entry for sensitive operations,
				Anti-Session Fixation:
					-Updating Session ID after login to prevent exploitation of previous session.
				Cookies
				O Cookies are small files stored on the user's device by the browser when visiting a website, They are used to store information about sessions, preferences, and user behavior.
					O Types of Cookies:
					Session Cookies:
						-Deleted once the browser is closed
						- Used to track user session while on the site,
					Persistent Cookies:
						-Remain stored for a specified period or until manually deleted
						- Used to store user preferences or enable automatic login.
					O Secure Cookie Properties:
					-HttpOnly: Prevents cookie access via JavaScript to reduce attacks
					-Secure: Ensures cookies are only transmitted over HTTPS connections
					-SameSite: Limits cookie transmission with cross-site requests (Protection from CSRF
				How Session Works with Cookies
					O A session is a file containing user-specific information used to identify and track their activity on the website, Sessions and cookies don't work separately but rather complement each other to identify the user.
					O In clearer terms, cookies act as a box containing user information and a session ID that points to a file on the server containing the user's information.
					O This creates a system where:
						1. The cookie stores the unique Session ID
						2. The server stores the actual user data,
						3. They work together to maintain the user's state and identity throughout their interaction with the website.
					(D This approach is more secure than storing all user data in cookies since sensitive information remains on the server, while only a reference ID is stored on the user's device.
				JSON Web Token (JWT) Structure:
					O ==Header:==
						- Contains information about the token type (usually "JWT").
						- Specifies the signing algorithm used, such as HMAC SHA256 or RSA
					O ==Payload:==
						- Contains the claims (information about an entity, typically the user, and additional metadata).
						- Common claims include sub (subject identifier), exp (expiration time of the token).
						- The payload is not encrypted, so it can be viewed easily, but it is signed to ensure integrity.
					O ==Signature:==
						- The signature is generated by signing the header and payload with a secret key or private key (using an algorithm like HMAC SHA256).
						- This ensures that the token has not been tampered with and is valid
					O The JWT structure is composed of these three parts: Header, Payload, and Signature, which work together to create a secure and verifiable token,
					`==JWT validation== involves verifying the integrity and authenticity of the token by checking its signature against the data it contains. To do this, the system compares the token's signature with a known secret or public key.df the token's signature matches the expected one, the token is considered valid If the signature doesn't match, the token is rejected, as it may have been tampered with or is not from a trusted source,`
					![[Pasted image 20250622090345.png]]
					
- CH01_VID02_Web Security & Penetration Testing Process
[https://owasp.org/](https://owasp.org/)  
[OWASP WSTG file](https://github.com/OWASP/wstg/releases/download/v4.2/wstg-v4.2.pdf)
- Critical Security Headers
	O Strict-Transport-Security (HSTS). بيضمن ان الموقع بيتعرض عن طريق ال HTTPS Protocal حتي ولو المستخدم انه يتصفح الوقع عن طريق ال HTTP
	O X-Frame-Options. بيحمي من ال clickjacking attack وبينع ان الموقع يتم إضافته ضمن صفحات مواقع مختلفه
	O Same-Origin Policy (SOP). بيمنع اي  script الي موجوده بداعل الموقع انها تتفاعل مع اي اسكربت موجوده في موقع اخر وده علشان يمنع اي Malicious Interaction ما بين الموقع
	O Content Security Policy (CSP). ده بيتحكم في resources and والملفات الي بيحملها المتصفح علشان يمنعه من تحميل اي  Malicious Scripts لا تخص الموقع او التطبيق وده بدوره بيمنع ثغرات ذي XSS
	O CORS Implementation.  ده بيسمح بمشاركه البيانات بين المواقعالمحدده فقط و المسموح بيها وبتكون مذكروه في ال Header نفسه
- Web Pen-testing Methodologies
	```
		The OWASP Testing Guide for Web is a comprehensive guide for
		web application security testing provided by OWASP. The guide's
		purpose is to provide a practical and systematic framework for
		testing security vulnerabilities in web applications.
	```
	Key Components of the OWASP Testing Guide for Web:
	O Testing Phases: Presents ordered steps starting from Information
	Gathering up to advanced tests like Business Logic Testing,
	O Types of Vulnerabilities: Covers how to detect common vulnerabilities
	such as SQL Injection, Cross-Site Scripting (XSS), and Authentication Flaws,
	O Tools and Techniques: Explains appropriate tools and practical methods
	for testing each type of vulnerability,
	O Risk Assessment Guidelines: Helps evaluate the severity of vulnerabilities
	and suggests remediation measures.
- Penetration Testing Process
	Pre Engagement
		Scope Time-frame Testing Type ROE( Rules Of Engagement قواعد الاشتباك ) بيعمل اختبار الاخراف علي ايه وايه الدافع لكده يعني هل علشان يأمن المنتج الخاص بيه الموقع او المنتج ولا علشان يكون متوافق مع منظك معياً ذي ال (## [CBE Exchange Rates - البنك المركزي المصري](https://www.cbe.org.eg/en/economic-research/statistics/cbe-exchange-rates)) او يكون متوافق مع معايير امنه ذي (## [ISO/IEC 27001:2022 - Information security](https://www.iso.org/standard/27001)) او ( **PCI-DSS** (Payment Card Industry Data Security Standard) ) او ( **General Data Protection Regulation (GDPR)** ) 
	Recon & Enumeration
		Subdomains Directories Applications Web portals
	Scanning & VA
		Open Ports Finding Versions Vulnerabilities Related
	Exploitation
		Exploiting Vulnerabilities Exist, chaining these vulnerabilities
		عن طريق ال proof of concept (POC) لاثبات النتائج
	Post Exploitation
		In many scenarios, we don't get to this level.
	Reporting Phase
	Deliverables Reporting
- Rules of Engagement
	O Scope Definition: Systems and services permitted for testing,
	O Legal Authorization: Ensuring you have approvals that legally protect you,
	O Data Handling: Protecting sensitive information during and after testing,
	O Reports: Writing comprehensive and clear reports,
	O Incident Management: Acting professionally in any emergencies.
	O Objective: Ensuring penetration tests are safe, legal, and effective.
	O while complying with industry standards like OWASP and PTES(  [Penetration Testing Execution Standard]([The Penetration Testing Execution Standard](http://www.pentest-standard.org/index.php/Main_Page)) ).
- Quiz 01
	**Question 1:**  
	_What is the main purpose of a session ID in web applications?_  
	**Correct Answer:** c. Track user identity across requests
	
	**Question 2:**  
	_What is the main purpose of the Rules of Engagement (ROE) in a penetration test?_  
	**Correct Answer:** b. To outline the scope, limitations, and permissions of the test
	
	**Question 3:**  
	_Which HTTP method is generally considered safer for submitting sensitive data?_  
	**Correct Answer:** c. POST 
	
	**Question 4:**  
	_Which of the following is not a typical phase of web penetration testing?_  
	**Correct Answer:** a. Social Engineering